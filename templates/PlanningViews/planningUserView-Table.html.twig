{% extends 'baseMembre.html.twig' %}
{% block body %}

<!-- Plannings Table -->
    <style>
        .button {
            margin: 10px 0 10px 0;
            float: right;
            padding: 5px;
            background-color: #eab3ac;
            border: #eab3ac solid 2px;
        }

        .container2 {
            margin: 20px 50px 300px 50px;
        }

        .wrapper {
            background-color: #f4f6f9;
        }
        div.dataTables_wrapper div.dataTables_paginate ul.pagination{
            display: none;
        }
    </style>
    <div class="wrapper">
    <div class="container2">

        <div class="row">
            <div style="margin: 0 0 -20px 10px;">
                <h2>Planning List</h2>
            </div>
            <div class="col-2 mt-2 ml-1">
                <!-- Plannings Calendar btn-->
                <a href="{{ path('afficher_plannings_User_Calendar') }}" type="button"  class="btn btn-block "
                   style="width: 38px;color: white;background-color: #eab3ac"
                   title="Afficher plannings des événnement sous forme de calendrier">
                    <i class="fa fa-calendar-alt"></i>
                </a>
            </div>
        </div>
<table id="planningTableUser" class="table table-bordered table-striped">
    <thead>
    <tr>
        <th>ID</th>
        <th>Event Type</th>
        <th>Event Title</th>
        {#            <th>Image Event</th>#}
        <th>Movie Room</th>
        <th>Projection Date</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th>Booking</th>
    </tr>
    </thead>

    <tbody>
    {% for pln in plannings %}
        <tr align="center" valign="middle">
            <td align="center" vertical-align="middle">{{ pln.id }}</td>
            <td align="center" VALIGN="BOTTOM">{{ pln.typeEvent }}</td>
            <td align="center" VALIGN="BOTTOM">{{ pln.titreEvent }}</td>
            <td align="center" VALIGN="BOTTOM">{{ pln.nomSalle }}</td>
            {#                <td align="center" vertical-align="middle">#}
            {#                    <img src="{{ asset('dist/img/Data/' ~ listImg[pln.id]) }}" alt="Image du spectacle {{ pln.titreEvent }}"#}
            {#                         title="Image du spectacle '{{ pln.titreEvent }}'"#}
            {#                         width="80px">#}
            {#                </td>#}
            <td align="center" vertical-align="middle">{{ pln.date|date('d-m-Y') }}</td>
            <td align="center" vertical-align="middle">{{ pln.heureDebut|date('H:i:s') }}</td>
            <td align="center" vertical-align="middle">{{ pln.heureFin|date('H:i:s') }}</td>
            <td align="center" vertical-align="middle">
                <a href="{{ path('planning_show', {'id': pln.id}) }}" style="color: white;background-color: #eab3ac" class="btn  mr-1"><i class="fa fa-shopping-basket mr-2"></i>Réserver</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
    </div>
        <footer class="main-footer" style="text-align: center;margin-left:0px">
            <strong>Copyright &copy; 2021 <a style="color: #eab3ac" href="https://adminlte.io">Infinite
                    Loop</a>.</strong> All rights reserved.
        </footer>
    </div>

{% endblock %}
{% block javascripts %}

<script>
    $(function () {
        console.log("Script working properly ds spectacle list");
        var planningTableUser = $("#planningTableUser").DataTable({
            "responsive": true, "lengthChange": false, "autoWidth": false,
            /*"buttons": [
                "excel",
                "pdf",
                "print",
                "colvis"
            ],*/
        });
        planningTableUser.buttons().container().appendTo('#planningTableUser_wrapper .col-md-6:eq(0)');

        // var calendarBtn = `<a href="/planningsUser-Calendar" type="button" class="btn btn-primary ml-2" style="width: 39px">
        // <i class="fa fa-calendar-alt" ></i></a>`
        //
        // var spectacleTable_wrapper = document.getElementById("planningTableUser_wrapper");
        // spectacleTable_wrapper.childNodes[0].insertAdjacentHTML("afterbegin", calendarBtn);
        // spectacleTable_wrapper.childNodes[0].childNodes[2].classList.remove("col-md-6");
        // spectacleTable_wrapper.childNodes[0].childNodes[2].classList.add("col-md-3");
    });
</script>
{% endblock %}