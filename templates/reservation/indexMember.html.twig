{% extends 'base.html.twig' %}

{% block title %}Reservation index{% endblock %}

{% block body %}
    <style>
        .button {
            margin: 10px 0 10px 0;
            float: right;
            padding: 5px;
            background-color: #eab3ac;
            border: #eab3ac solid 2px;
        }
    </style>
    <div class="wrapper">
        <div class="content-wrapper">
            <section class="content">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <button class="button"><a style="color: white" href="{{ path('reservation_new') }}">Create
                                    new</a>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <table id="example1" class="table table-bordered table-striped">
                        <thead>
                        <tr>
                            <th>Reservation Date</th>
                            <th>Movie Room</th>
                            <th>Movie</th>
                            <th>Places</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for reservation in reservations %}
                            <tr>
                                <td>{{ reservation.datereservation ? reservation.datereservation|date('Y-m-d') : '' }}</td>
                                <td>{{ reservation.idsalle }}</td>
                                <td>{{ reservation.idfilm }}</td>
                                <td>{{ reservation.nbrplaceres }}</td>
                                <td>
                                    {{ include('reservation/_delete_form.html.twig') }}
                                </td>
                            </tr>
                        {% else %}
                            <tr>
                                <td colspan="8">no records found</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                        <tfoot>
                        </tfoot>
                    </table>
                </div>
            </section>
        </div>
        <footer class="main-footer" style="text-align: center">
            <strong>Copyright &copy; 2021 <a style="color: #eab3ac" href="https://adminlte.io">Infinite
                    Loop</a>.</strong> All rights reserved.
        </footer>
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        $(function () {
            $("#example1").DataTable({
                "responsive": true, "lengthChange": false, "autoWidth": false,
            }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
            $('#example2').DataTable({
                "paging": true,
                "lengthChange": false,
                "searching": false,
                "ordering": true,
                "info": true,
                "autoWidth": false,
                "responsive": true,
            });
        });
    </script>
{% endblock %}